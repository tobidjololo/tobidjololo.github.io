<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="shortcut icon" href="files/img/favicon.ico" type="image/x-ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="files/css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Groupe-4</title>
</head>

<body>
    <div class="container" style=" border-left: solid 2px rgb(132, 211, 213);border-right:solid 2px rgb(132, 211, 213);">
        <div class="container" id="bbg">
            <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
                <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
                    <img src="files/img/Gtr.png" alt="logo" width="32px" height="32px">
                    <span class="fs-4">roupe-4</span>
                </a>

                <ul class="nav nav-pills">
                    <li class="nav-item"><a href="./index.html" class="nav-link" aria-current="page" id="conv">Accueil</a></li>
                    <li class="nav-item act"><a href="./index.html#trouver" class="nav-link" id="conv">Concept</a></li>
                    <li class="nav-item"><a href="./A_propoS.php" class="nav-link" id="conv">A propos de Groupe-4</a></li>
                </ul>
            </header>
        </div>


        <div style="text-align:center;margin-top:20px;margin-bottom:20px;">
            <h5 id="ta" class="obj">CONCEPT D'INTERFACE</h5>
            <div class="container">
                <div class="lead" style="text-align: justify;" id="fg">
                    Les interfaces vont avoir un but similaire aux classes
                    abstraites puisque l’un des intérêts principaux liés à
                    la définition d’une interface
                    va être de fournir un plan général pour les développeurs
                    qui vont implémenter l’interface et de les forcer à suivre
                    le plan donné par l’interface.
                    De la même manière que pour les classes abstraites,
                    nous n’allons pas directement pouvoir instancier une
                    interface mais devoir l’implémenter, c’est-à-dire créer
                    des classes dérivées à partir de celle-ci pour pouvoir
                    utiliser ses éléments.
                    Les deux différences majeures entre les interfaces et les classes
                    abstraites sont les suivantes : <br>
                    - Une interface ne peut contenir que les signatures des méthodes ainsi
                    qu’éventuellement des constantes mais pas de propriétés. Cela est
                    dû au fait qu’aucune implémentation n’est faite dans une interface : une
                    interface n’est véritablement qu’un plan ;<br>
                    - Une classe ne peut pas étendre plusieurs autres classes à cause des
                    problèmes d’héritage. En revanche, une classe peut tout à fait implémenter
                    plusieurs interfaces.<br>
                    Je pense qu’il est ici intéressant de bien illustrer ces deux points
                    et notamment d’expliquer pourquoi une classe n’a pas l’autorisation
                    d’étendre plusieurs autres classes.
                    Pour cela, imaginons qu’on ait une première classe A qui définit la
                    signature d’une méthode <em>diamond() </em> sans l’implémenter.<br>
                    Nous créons ensuite deux classes B et C qui étendent la classe A et
                    qui implémentent chacune d’une manière différente la méthode <em>diamond() </em>.<br>
                    Finalement, on crée une classe D qui étend les classes B et C et
                    qui ne redéfinit pas la méthode <em>diamond() </em>. Dans ce cas-là,
                    on est face au problème suivant : la classe D doit-elle utiliser
                    l’implémentation de <em>diamond() </em> faite par la classe B ou celle faite
                    par la classe C ?<br>
                    Ce problème est connu sous le nom du « problème du diamant » et
                    est la raison principale pour laquelle la plupart des langages
                    de programmation orientés objets (dont le php) ne permettent
                    pas à une classe d’étendre deux autres classes.<br>
                    En revanche, il ne va y avoir aucun problème par
                    rapport à l’implémentation par une classe de
                    plusieurs interfaces puisque les interfaces,
                    par définition, ne peuvent que définir la signature
                    d’une méthode et non pas son implémentation.
                    Profitez-en ici pour noter que les méthodes
                    déclarées dans une classe doivent obligatoirement
                    être publiques (puisqu’elles devront être implémentées
                    en dehors de l’interface) et que les constantes d’interface
                    ne pourront pas être écrasées par une classe (ou par une autre
                    interface) qui vont en hériter.<br><br>
                    <h5 class="lead" style="font-weight: 400;text-decoration:underline;font-family:'Poppins';color:#004aad;">Définir et implémenter une interface en pratique</h5>
                    On va pouvoir définir une interface de la même
                    manière qu’une classe mais en utilisant cette
                    fois-ci le mot clef interface à la place de class.
                    Nous nommerons généralement nos fichiers d’interface en
                    utilisant « interface » à la place de « classe ».
                    Par exemple, si on crée une interface nommée Utilisateur,
                    on enregistrera le fichier d’interface sous
                    le nom utiilsateur.interface.php par convention.<br>
                    <div class="card" style="width: 50rem;  background-color: rgb(132, 211, 213);">
                        <div class="card-body">
                            <p class="card-text" id="fg" style="text-align: justify;">
                                &lt;?php <br>
                                interface Utilisateur<br>
                                {<br>
                                public const ABONNEMENT = 15;<br>
                                public function getNom();<br>
                                public function setPrixAbo();<br>
                                public function getPrixAbo();<br>
                                }<br>
                                ?><br>
                            </p>
                        </div>
                    </div>
                    On va ensuite pouvoir réutiliser les définitions
                    de notre interface dans des classes. Pour cela,
                    on va implémenter notre interface. On va pouvoir
                    faire cela de la même manière que lors de la création
                    de classes étendues mais on va cette fois-ci utiliser
                    le mot clef implements à la place de extends.<br>
                    <div class="card" style="width: 50rem;">
                        <div class="card-body">
                            <p class="card-text" id="fg" style="text-align: justify;  background-color: rgb(132, 211, 213);">
                                &lt;?php<br>
                                class Abonne implements Utilisateur<br>
                                {<br>
                                protected $user_name;<br>
                                protected $user_region;<br>
                                protected $prix_abo;<br>
                                protected $user_pass;<br>

                                public function __construct($n, $p, $r)<br>
                                {
                                $this->user_name = $n;<br>
                                $this->user_pass = $p;<br>
                                $this->user_region = $r;<br>
                                }<br>

                                public function getNom()<br>
                                {<br>
                                echo $this->user_name;<br>
                                }<br>
                                public function getPrixAbo()<br>
                                {<br>
                                echo $this->prix_abo;<br>
                                }<br>

                                public function setPrixAbo()<br>
                                {<br>
                                if ($this->user_region === 'Sud') {<br>
                                return $this->prix_abo = Utilisateur::ABONNEMENT / 2;<br>
                                } else {<br>
                                return $this->prix_abo = Utilisateur::ABONNEMENT;<br>
                                }<br>
                                }<br>
                                }<br>
                                ?><br>
                            </p>
                        </div>
                    </div>
                    <div class="card" style="width: 50rem;">
                        <div class="card-body">
                            <p class="card-text" id="fg" style="text-align: justify;   background-color: rgb(132, 211, 213);">
                                &lt;?php<br>
                                class Admin implements Utilisateur<br>
                                {<br>
                                protected $user_name;<br>
                                protected $user_region;<br>
                                protected $prix_abo;<br>
                                protected $user_pass;<br>
                                protected static $ban;<br>

                                public function __construct($n, $p, $r)<br>
                                {<br>
                                $this->user_name = strtoupper($n);<br>
                                $this->user_pass = $p;<br>
                                $this->user_region = $r;<br>
                                }<br>

                                public function getNom()<br>
                                {<br>
                                echo $this->user_name;<br>
                                }<br>
                                public function getPrixAbo()<br>
                                {<br>
                                echo $this->prix_abo;<br>
                                }<br>

                                public function setBan(...$b)<br>
                                {<br>
                                foreach ($b as $banned) {<br>
                                self::$ban[] .= $banned;<br>
                                }<br>
                                }<br>
                                public function getBan()<br>
                                {<br>
                                echo 'Utilisateurs bannis : ';<br>
                                foreach (self::$ban as $valeur) {<br>
                                echo $valeur . ', ';<br>
                                }<br>
                                }<br>

                                public function setPrixAbo()<br>
                                {<br>
                                if ($this->user_region === 'Sud') {<br>
                                return $this->prix_abo = Utilisateur::ABONNEMENT / 6;<br>
                                } else {<br>
                                return $this->prix_abo = Utilisateur::ABONNEMENT / 3;<br>
                                }<br>
                                }<br>
                                }<br>
                                ?><br>
                            </p>
                        </div>
                    </div>

                    Ici, on utilise une interface Utilisateur plutôt que notre classe
                    abstraite Utilisateur qu’on laisse de côté pour le moment.
                    Notez bien ici que toutes les méthodes déclarées dans une
                    interface doivent obligatoirement être implémentées dans
                    une classe qui implémente une interface.
                    Vous pouvez également observer que pour accéder à
                    une constante d’interface, il va falloir préciser
                    le nom de l’interface devant l’opérateur de résolution de portée.<br>
                    <div class="card" style="width: 50rem;">
                        <div class="card-body">
                            <p class="card-text" id="fg" style="text-align: justify; background-color: rgb(132, 211, 213);">
                                &lt;!DOCTYPE html/>;<br>
                                &lt;php><br>
                                &lt;head>;<br>
                                &lt;title>;Cours php & MySQL&lt;/title>;<br>
                                &lt;meta charset="utf-8">;<br>
                                &lt;link rel="stylesheet" href="cours.css"><br>
                                &lt;/head><br>
                                &lt;body><br>
                                &lt;h1>Titre principal&lt;/h1><br>
                                &lt;php<br>
                                require 'classes/utilisateur.interface.php';<br>
                                require 'classes/admin.class.php';<br>
                                require 'classes/abonne.class.php';<br>

                                $pierre = new Admin('Pierre', 'abcdef', 'Sud');<br>
                                $mathilde = new Admin('Math', 123456, 'Nord');<br>
                                $florian = new Abonne('Flo', 'flotri', 'Est');<br>

                                $pierre->setPrixAbo();<br>
                                $mathilde->setPrixAbo();<br>
                                $florian->setPrixAbo();<br>

                                echo 'Prix de l\'abonnement pour ';<br>
                                $pierre->getNom();<br>
                                echo ' : ';<br>
                                $pierre->getPrixAbo();<br>
                                echo 'Prix de l\'abonnement pour ';<br>
                                $mathilde->getNom();<br>
                                echo ' : ';<br>
                                $mathilde->getPrixAbo();<br>
                                echo 'Prix de l\'abonnement pour ';<br>
                                $florian->getNom();<br>
                                echo ' : ';<br>
                                $florian->getPrixAbo();<br>
                                ?><br>
                                &lt;p&lt;Un paragraphe&lt;/p>;<br>
                                &lt;/body><br>
                                &lt;/php>
                            </p>
                        </div>
                    </div>
                    Et on obtient dans le navigateur :<br>
                    Par ailleurs, notez également qu’on va aussi pouvoir
                    étendre une interface en utilisant le mot clef extends.
                    Dans ce cas-là, on va créer des interfaces étendues
                    qui devront être implémentées par des classes de la
                    même manière que pour une interface classique.
                </div>
            </div>

            <div class="container">
                <div class="row">
                    <div class="col-lg-6 col-md-12 col-sm-12">
                        <h5 id="ta" class="obj">EXERCICE</h5>
                        <p class="lead" style="text-align: justify;" id="fg">
                            -Créer les interface I1 et I2; <br>
                            -ET possédez à l'implémentation; <br>
                        </p>
                    </div>
                    <div class="col-lg-6 col-md-12 col-sm-12">
                        <h5 id="ta" class="obj">RESULTAT</h5>
                        <div class="card" style="width: 50rem;  background-color: rgb(132, 211, 213);">
                            <div class="card-body">
                                <p class="card-text lead" style="text-align: justify;" id="fg">
                                    &lt;php<br>
                                    interface Int1{<br>
                                    public function f1();<br>
                                    }<br>
                                    Interface Int2{<br>
                                    public function f2();<br>
                                    }<br>
                                    class Classe implements Int1, Int2{<br>
                                    public function f1(){<br>
                                    }<br>
                                    public function f2(){<br>
                                    }<br>
                                    }<br>
                                    ?><br>
                                </p>
                            </div>
                        </div>
                    </div>


                    <div class="container" id="bg">
                        <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
                            <p class="col-md-4 mb-0 text-muted">&copy; 2021 Groupe-4</p>

                            <a href="/" class="col-md-4 d-flex align-items-center justify-content-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none">
                                <img src="files/img/Gtr.png" alt="logo" width="32px" height="32px">
                            </a>

                            <ul class="nav col-md-4 justify-content-end">
                                <li class="nav-item"><a href="./index.html" class="nav-link" id="conv2" aria-current="page">Accueil</a></li>
                                <li class="nav-item"><a href="./index.html#trouver" class="nav-link" id="conv2">Concept</a></li>
                                <li class="nav-item"><a href="./A_propoS.html" class="nav-link" id="conv2">A propos de Groupe-4</a></li>
                            </ul>
                        </footer>
                    </div>

                </div>
</body>

</html>